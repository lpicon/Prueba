general:
  artifacts:
    - "target/demo-*.jar"

machine:
  java:
    version: oraclejdk8
dependencies:
  pre:
    - curl -fL https://getcli.jfrog.io | sh
  override:
    - git config --global user.email circleci@circleci
    - git config --global user.name CircleCI
    - mvn dependency:resolve
test:
  override:
    - mvn clean install
    - ./jfrog rt config --url "https://bancodebogota.jfrog.io/bancodebogota/repojuli/" --user "lpicon" --apikey "Ljpa37900122" --interactive false
    - ./JFrog dl rt "Users/lpicon/Documents/workspace/springboot 2/target/ *. jar" nombre = my myBuild --build-number = 1
    - ./jfrog rt u "spring*/*.jar" "https://bancodebogota.jfrog.io/bancodebogota/repojuli/" --build-name=build --build-number="1" --flat=false
    - ./jfrog rt bce build 1
    - ./jfrog rt bp build 1
deployment:
  production:
    branch: master
    commands:
      - mvn -B release:clean release:prepare
      - mvn release:perform